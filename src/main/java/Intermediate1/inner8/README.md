8. 중첩 클래스2

8-1 지역 클래스
```html
지역 클래스는 내부 클래스의 특별한 종류의 하나이다. 내부 클래스의 특징을 그대로 가진다.
접근 제어자 사용 불가
```

8-2 지역 클래스의 캡처
```html
지역 클래스는 지역 변수에 접근 가능 하지만 지역 변수의 생명 주기는 짧고 지역 클래스를 통해 생성한 인스턴스의 생명 주기는 길다.
지역 클래스를 통해 생성한 인스턴스가 지역 변수에 접근해야 하는데 지역 변수가 이미 제거된 상태이면?
이 문제를 해결하기 위해 지역 클래스의 인스턴스를 생성하는 시점에 필요한 지역 변수를 복사해서 생성한 인스턴스에 함꼐 넣어둔다.
이걸 변수 캡쳐라고 한다.
그래서 지역 클래스가 접근하는 지역 변수는 절대로 중간에 값이 변하면 안된다. 사실상 final이다.
만약 바뀌면 스택 영역에 있는 지역 변수 값과 인스턴스에 캡쳐한 변수 값이 서로 달라진다. 이걸 동기화 문제라고 한다.
이걸 허용하면 수 많은 문제가 파생될 수 있다.
```

8-3 익명 클래스
```html
익명 클래스는 지역 클래스의 특별한 종류의 하나이다.
익명 클래스는 지역 클래스이고 클래스의 이름이 없다
익명 클래스는 지역 클래스의 선언과 생성을 한번에 한다.
예) Printer printer = new Printer() {}
익명 클래스는 부모 클래스를 상속 받거나 인터페이스를 구현해야 한다.
뷱잡하거나 재사용이 필요한 경우에는 익명 클래스 말고 별도의 클래스를 구현하자
```

8-4 익명 클래스의 활용과 람다
```html
리팩토링시 변하는 부분과 변하지 않는 부분을 구분하자
익명 클래스 사용시 참조값을 직접 전달할 수 있다.
이때 메서드만 전달할 수 있으면 좋겠다는 생각이 든다. 이걸 람다라고 한다.
```

8-5 정리
```html
중첩 클래스의 종류 : 내부 클래스(내부 클래스, 지역 클래스, 익명 클래스), 정적 중첩 클래스
정적 중첩 클래스 : 바깥 클래스와 밀접한 관련이 있지만, 인스턴스 간에 데이터 공유가 필요 없을 때 사용한다.
내부 클래스: 바깥 클래스의 인스턴스와 연결되어 있고, 바깥 클래스의 인스턴스 상태에 의존하거나 강하게 연관된 작업을 수행할 때 사용한다.
지역 클래스 : 내부 클래스의 특징을 가진다. 지역 변수에 접근 가능하다. 접근하는 지역 변수는 사실상 final이다.
주로 특정 메서드 내에서만 간단히 사용할 목적으로 사용한다.
익명 클래스 : 지역 클래스인데 이름이 없다. 상위 타입을 상속 또는 구현하면서 바로 생성된다. 주로 특정 상위 타입을 간단히 구현해서 일회성으로 사용할 때 유용하다.
```